<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta content="HTML Tidy for Windows (vers 15 August 2007), see www.w3.org" name="generator">
<meta http-equiv="Content-Type" content="text/html; charset=us-ascii"><!-- /* * Copyright 2007 by Texas Instruments Incorporated. * All rights reserved. Property of Texas Instruments Incorporated. * Restricted rights to use, duplicate or disclose this code are * granted through contract. * * */ -->



<title>MSP430 Java HID Demo App -- Release Notes</title><!-- For now, we use the doxygen style sheet --><link href="docs/html/doxygen.css" rel="stylesheet" type="text/css"></head>
<body>
<table width="100%">
<tbody>
<tr>
<td bgcolor="black" width="1"><a href="http://www.ti.com"><img src="doc/tilogo.gif" alt="Texas Instruments" border="0"></a></td>
<td bgcolor="red"><img src="doc/titagline.gif"></td>
</tr>
</tbody>
</table>
<h1>MSP432 Java HID Demo App -- Release Notes</h1>
<h2><a name="Introduction" id="Introduction">Introduction</a></h2>
<p>Welcome to the MSP432 Java HID USB Demo App! This is an
example of a host-side HID application. It's designed to communicate
with Custom HID devices.&nbsp; &nbsp;Custom HID
devices are defined as not being driven directly by the OS, like a
mouse/keyboard/sensor.<br>
</p>
<p>The project is composed
of a Java GUI and C drivers. The communication between Java
and the C
drivers is Java Native Interface (JNI) based. &nbsp; This means
there
is an accompanying DLL in the same path as the *.jar file that contains
the native calls. &nbsp;&nbsp; </p>
This document is divided into the following sections:
<ul>
<li><a href="#Prerequisites">Prerequisites</a></li>
<li><a href="#Running">Running the HID Demo App</a></li>
<li><a href="#Rebuilding">Rebuilding the HID Demo
App</a></li>
<li><a href="#Validation">Validation Information</a></li>
<li><a href="#Known_Issues">Known Issues</a></li>
<li><a href="#Versioning">Versioning</a></li>
<li><a href="#Support">Support</a></li>
</ul>
<br>
<hr><br>
<h2><a name="Prerequisites" id="Prerequisites">Prerequisites</a></h2>
<h3><a name="Prerequisites" id="Prerequisites">To
run the app:</a></h3>
<ul>
<li><a name="Prerequisites" id="Prerequisites">OS<br></a></li>
<ul>
<li><a name="Prerequisites" id="Prerequisites">Windows
7 and Windows 10 64-bit Java JDK 1.8+</a></li>
</ul>
<li><a name="Prerequisites" id="Prerequisites">Java
1.8+ (64-bit version) must be available on the host machine and the default association
for executable Jar files&nbsp;</a></li>
<ul>
<li><a name="Prerequisites" id="Prerequisites">This
may be set by&nbsp;My Computer -&gt; Tools -&gt;Folder
Options -&gt; File Types. &nbsp;Make sure the default javaw.exe
or java.exe is JDK1.8+ and the correct architecture (64/32 bit)</a></li>
</ul>
</ul>
<h3><a name="Prerequisites" id="Prerequisites">To
re-build the app:</a></h3>
<ul>
<li><a name="Prerequisites" id="Prerequisites">OS<br></a></li>
<ul>
<li><a name="Prerequisites" id="Prerequisites">Windows
7 and Windows 10 64-bit Java JDK 1.8+</a></li></ul><li><a name="Prerequisites" id="Prerequisites">Java
1.8+ (64-bit)&nbsp; must be available on the host machine and the default association
for executable Jar files&nbsp;</a></li>
<ul>

<li><a name="Prerequisites" id="Prerequisites">This
may be set by&nbsp;My Computer -&gt; Tools -&gt;Folder
Options -&gt; File
Types. &nbsp;Make sure the default javaw.exe or java.exe is JDK1.8+
and the
correct architecture (64/32 bit).</a>&nbsp;if you only want to build for 32 bit there
is no need for the 64 bit compilers/JDK's (and vice versa)<a name="Prerequisites" id="Prerequisites"></a></li>
</ul>
<li><a name="Prerequisites" id="Prerequisites">Cygwin&nbsp;</a></li>
<ul>
<li><a name="Prerequisites" id="Prerequisites">gcc/g++
for&nbsp;MinGW</a></li>
<li><a id="Prerequisites" name="Prerequisites">Run
Cygwin's setup.exe to install the correct compiler</a></li>
<ul>

<li><a href="http://cygwin.com/setup-x86_64.exe">setup-x86_64.exe</a>
(64 bit)</li></ul>
</ul>
</ul>

<hr><a name="Prerequisites" id="Prerequisites"><br>
</a><a name="Prerequisites" id="Prerequisites"><br>
</a>
<h2><a name="Running" id="Running">Running
the HID Demo App</a></h2>
<p><a name="Running" id="Running">The HID
Demo App&nbsp;can be run with the HID Temperature Sensor example included in
the SimpleLink SDK.&nbsp;</a></p>
<a name="Running" id="Running"> </a>
<p><a name="Running" id="Running">The Hid
Demo App can be executed from a command line, by navigating to the
directory in
which the *.jar file is located, and typing "java
-jar HidDemo_&lt;OS_type&gt;_deploy.jar". &nbsp;&nbsp;</a><a name="Running" id="Running">The
HID
Demo App&nbsp;can also be started by double-clicking on hidDemo_&lt;OS_type&gt;_deploy.jar
(see file associations above). &nbsp; Double clicking assumes that
your
system, Java version, and path are configured correctly so it is
recommended&nbsp; to try&nbsp;command line execution first. </a></p>
<a name="Running" id="Running">This should
bring up the HID Demo App. If it does not, check that that the
Java Virtual Machine (JVM) is listed in your PC's path or you can
explicitly specify the path to the java.exe file by typing in the
following command:<br><br>"C:/Program Files/Java/jdk/jre/bin/java" -jar hidDemo_&lt;OS_type&gt;_deploy.jar&nbsp;</a> <br><br>Note:&nbsp;he path listed above should reflect the directory where the jre is installed<br><a name="Running" id="Running">
</a>
<hr><a name="Running" id="Running"><br>
</a>
<h2><a name="Rebuilding" id="Rebuilding">Rebuilding&nbsp;
the HID Demo App For Windows</a></h2>
<p><a name="Rebuilding" id="Rebuilding">This
update builds with Cygwin and can build 32- and 64-bit
&nbsp;libraries. The project contains: </a></p>
<table style="width: 666px; height: 160px;" border="1">
<tbody>
<tr>
<td>com </td>
<td>Top Level Java and Class files</td>
</tr>
<tr>
<td>doc</td>
<td>Release Notes image files</td>
</tr>
<tr>
<td>icons </td>
<td>User interface resources</td>
</tr>
<tr>
<td>jni</td>
<td>C sources and library</td>
</tr>
</tbody>
</table>
<a name="Rebuilding" id="Rebuilding"><br><br>A&nbsp;Makefile maybe created using the following script for re-building the .jar and .dll:<br><br><br>###########################################<br>#<br>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Makefile for HidDemo Application<br>#&nbsp;&nbsp; To build for a 64 bit jdk and 64 bit machine<br>#&nbsp;&nbsp; make JDK64=1<br>#<br>###########################################<br><br>ifeq (${JDK64},1)<br>&nbsp;&nbsp;&nbsp; CC=x86_64-w64-mingw32-gcc-4.7.3<br>&nbsp;&nbsp;&nbsp; CXX=x86_64-w64-mingw32-g++<br>&nbsp;&nbsp;&nbsp; CCFLAGS=-m64<br>&nbsp;&nbsp;&nbsp; JDK="/cygdrive/c/jdk64"<br>else<br>&nbsp;&nbsp;&nbsp; CC=i686-pc-mingw32-gcc<br>&nbsp;&nbsp;&nbsp; CXX=i686-pc-mingw32-g++<br>&nbsp;&nbsp;&nbsp; CCFLAGS=-m32<br>&nbsp;&nbsp;&nbsp; JDK="/cygdrive/c/jdk32"<br>endif<br><br>JNICFLAGS=-c -I${JDK}/include -I${JDK}/include/win32 -std=gnu99 -D__int64="long long"<br><br>BUILD_DIR=./build<br>LIB_DIR=./lib<br>JNI_SRC=com/ti/msp432/usb/hiddemo/management<br>HIDAPI_ROOT=jni/hidapi<br>HIDAPI_DIR=jni/hidapi/hidapi<br>WINOBJS=${HIDAPI_ROOT}windows/hid.c<br>JNILDFLAGS=-Wall -D_JNI_IMPLEMENTATION_ -Wl,--kill-at<br>WINLIBS=-lsetupapi<br>JNISRC=com_ti_msp432_usb_hiddemo_management_HidCommunicationManager.c<br>JNIOBJS=com_ti_msp432_usb_hiddemo_management_HidCommunicationManager.o<br><br><br>all: management javah jni gui jar<br><br>management:<br>&nbsp;&nbsp;&nbsp; ${JDK}/bin/javac com/ti/msp432/usb/hiddemo/management/*.java<br><br><br>javah: management<br>&nbsp;&nbsp;&nbsp; ${JDK}/bin/javah -d ${JNI_SRC} -jni com.ti.msp432.usb.hiddemo.management.HidCommunicationManager<br><br>gui:<br>&nbsp;&nbsp;&nbsp; ${JDK}/bin/javac com/ti/msp432/usb/hiddemo/*.java<br><br>jni: init<br>&nbsp;&nbsp;&nbsp; ${CC} ${CCFLAGS} -I${HIDAPI_DIR} -c ${HIDAPI_ROOT}/windows/hid.c -o ${BUILD_DIR}/hid.o<br>&nbsp;&nbsp;&nbsp; ${CC} ${JNICFLAGS} -I${HIDAPI_DIR} -I${JNI_SRC} jni/${JNISRC} -o ${BUILD_DIR}/${JNIOBJS}<br>&nbsp;&nbsp;&nbsp;
${CC} ${BUILD_DIR}/${JNIOBJS} ${BUILD_DIR}/hid.o ${WINLIBS} -o
${LIB_DIR}/HidCommunicationManager.dll ${JNILDFLAGS} -shared
-static-libgcc<br><br>init:<br>&nbsp;&nbsp;&nbsp; mkdir -p build<br>&nbsp;&nbsp;&nbsp; mkdir -p $(LIB_DIR)<br><br>jar:<br>&nbsp;&nbsp;&nbsp; ${JDK}/bin/jar cmf mainClass HidDemo.jar com icons lib jni<br>ifeq (${JDK64},1)<br>&nbsp;&nbsp;&nbsp; cp lib//HidCommunicationManager.dll HidCommunicationManager64.dll<br>else<br>&nbsp;&nbsp;&nbsp; cp lib//HidCommunicationManager.dll .<br>endif<br><br><br>clean:<br>&nbsp;&nbsp;&nbsp; rm -rf ${BUILD_DIR}<br>&nbsp;&nbsp;&nbsp; rm -rf ${LIB_DIR}<br>&nbsp;&nbsp;&nbsp; rm -f com/ti/msp432/usb/hiddemo/management/*.class<br>&nbsp;&nbsp;&nbsp; rm -f com/ti/msp432/usb/hiddemo/management/*.h<br><br>################################################################################<br><br></a><h2><a name="Rebuilding" id="Rebuilding">Summarization of
the&nbsp;App&nbsp;</a></h2><a name="Rebuilding" id="Rebuilding"><br>
The HID Demo App was
developed only as an example, so you're encouraged to modify and update
it.
&nbsp;In order to do this, you will need the following software
installed:</a>
<ul>
<li><a name="Rebuilding" id="Rebuilding">Windows&nbsp; 7 or Windows 10</a></li>
<ul><li><a name="Rebuilding" id="Rebuilding">JDK
1.8+ (64-bit) must be&nbsp; available on the host machine</a></li></ul>
<li><a name="Rebuilding" id="Rebuilding">Cygwin&nbsp;</a></li>
<ul><li><a name="Rebuilding" id="Rebuilding">MinGW
gcc/g++ (32- and 64-bit &nbsp;versions of the compiler tool chain
may be needed)</a></li></ul>
</ul>
<a name="Rebuilding" id="Rebuilding">The JDK may be
downloaded from:<br>
</a><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a><br>
<br>
Because of inherent limitations in the platform, it's best to not have
spaces in the JDK's path; for example, don't use the default of
"C:\Program Files\..." &nbsp;If
you use spaces, you will need to "escape" them in the Makefile.
&nbsp; C:\JDKX.xx.xx&nbsp; is a recommended directory format,
because it's short, and because you can create a soft link to it as
C:/jdk (under Cygwin).<br>
<br>
<br>
After
the above pre-requisites are installed, modify the Makefile (in
hidDemo-java/Makefile) to add
the location of the JDK you have installed on your system. &nbsp;
If the compilers were installed correctly, the only changes that should
be needed are the JDK paths.&nbsp;
<br>
<br>
ifeq (${JDK64},1)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
CC=x86_64-w64-mingw32-gcc-6.4.0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
CXX=x86_64-w64-mingw32-g++<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
CCFLAGS=-m64<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight: bold;"> JDK="/cygdrive/c/jdk64"</span><br>
else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
CC=i686-pc-mingw32-gcc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
CXX=i686-pc-mingw32-g++<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
CCFLAGS=-m32<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-weight: bold;">JDK="/cygdrive/c/jdk32"</span><br>
endif<br>
<br>
<br>
<br>
The JDK paths should point to where your system's JDK is installed (the
JDK
directory right above bin/ that contains javah.exe).<br>
<br>
The
final step is to open a cygwin window and&nbsp; run "make" (or
"make JDK64=1", for 64-bit build) from the /hidDemo-java directory.<br>
<br>
<br>
<hr><br>
<h2><a name="Validation" id="Validation">Validation</a></h2>
This release has been tested on&nbsp;Windows 7 64-bit and Windows 10 64-bit.
<br>
<br>
<hr><br>
<h2><a name="Known_Issues" id="Known_Issues">Known
Issues</a></h2>
In cases where there is a mismatch in default JDK invoked by
double-clicking a *.jar file (file associations are incorrect), the
application
may not start. &nbsp; To work around this, explicitly specify the path to the java.exe file from the&nbsp;command line run
"java -jar HidDemo_windows_deploy.jar". &nbsp;or <a name="Running" id="Running">"C:/Program Files/Java/jdk/jre/bin/java" -jar hidDemo_&lt;OS_type&gt;_deploy.jar&nbsp;</a><br>
<br>
<hr><br>
<h2><a name="Versioning" id="Versioning">Versioning</a></h2>
<p>This is demo code, and therefore there is no versioning.</p>
<hr>
<h2><a name="Support" id="Support">Support</a></h2>
<a name="Support" id="Support">If you&nbsp; need support,
please
visit the </a><a href="http://e2e.ti.com/support/microcontrollers/msp430/default.aspx">MSP430
E2E forum</a><font face="Times New Roman" size="3"><span style="font-size: 12pt;"><span style="text-decoration: underline;">.</span><o:p></o:p></span></font>
<br>
<br>
</body></html>