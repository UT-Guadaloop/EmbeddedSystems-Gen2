<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>TimerMSP432E4.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_2298ed0e5bfee6f293aea6c715ac7f7c.html">exports</a></li><li class="navelem"><a class="el" href="dir_a59555fa6928a28ba1fd94639418fed2.html">tidrivers_msp432e4</a></li><li class="navelem"><a class="el" href="dir_881bc3ea3e0b6773ef082a7a8f546747.html">source</a></li><li class="navelem"><a class="el" href="dir_d200e2eb2d76e462bf7bb2f8b0aadb1e.html">ti</a></li><li class="navelem"><a class="el" href="dir_c7c3caac9c05bea82305b87d191db62d.html">drivers</a></li><li class="navelem"><a class="el" href="dir_579a48e08e6122f8dc21c8afeecb0205.html">timer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TimerMSP432E4.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Timer driver interface for MSP432E4 devices. </p>
<hr/>
<h1>Operation</h1>
<p>This driver implements half and full width general purpose timers for the MSP432E4 device. For MSP432E4 devices, the system clock is 120 MHz and a 16-bit timer has an 8-bit prescaler. The desired period may not always be achieved due to hardware limitations, such as the aforementioned. The timer resolution is limited to 8.33ns due to the 120 MHz clock. A timer period no greater than 546,133us can be achieved when operating in 16-bit mode. Similarly, a period no greater than 35,791,394us can be achieved when operating in 32-bit mode. The same time constraints apply to the 16-bit timer when attempting to use a frequency less than 5 Hertz. For additional details, refer to the device's technical reference manual.</p>
<p>The timer always operates in count down mode. When using a half width timer, an 8-bit prescaler will be implemented by the driver if necessary. If the timer is operating in Timer_FREE_RUNNING, the timer will count down from the specified period to 0 before restarting.</p>
<p>When using a half width timer, <a class="el" href="_timer_8h.html#a29ed26e8d3139f8ac21746c14d8b7abc" title="Function to get the current count of a timer. The value returned represents timer counts...">Timer_getCount()</a> will return the value of the counter in bits 15:0 and bits 23:16 will contain the current free-running value of the prescaler. Bits 31:24 are always 0. When using a full width timer, <a class="el" href="_timer_8h.html#a29ed26e8d3139f8ac21746c14d8b7abc" title="Function to get the current count of a timer. The value returned represents timer counts...">Timer_getCount()</a> will return the the value of the 32-bit timer.</p>
<p><a class="el" href="_timer_8h.html#ab0e86a066b5c68c55183cd680090a9b7a01f0c06391bb2ea1ec530ba502a795a5">Timer_ONESHOT_CALLBACK</a> is non-blocking. After <a class="el" href="_timer_8h.html#ae2f09cd2a7f7251e5fffade75378c332" title="Function to start a timer. ">Timer_start()</a> is called, the calling thread will continue execution. When the timer interrupt is triggered, the specified callback function will be called. The timer will not generate another interrupt unless <a class="el" href="_timer_8h.html#ae2f09cd2a7f7251e5fffade75378c332" title="Function to start a timer. ">Timer_start()</a> is called again. Calling <a class="el" href="_timer_8h.html#a3b951947aeec93b4610f87ba7b8a8621" title="Function to stop a timer. If the timer is already stopped this function has no effect. ">Timer_stop()</a> or <a class="el" href="_timer_8h.html#a826779747913a65d4f683a627fd0759f" title="Function to close a timer. The corresponding timer becomes an available timer resource. ">Timer_close()</a> after <a class="el" href="_timer_8h.html#ae2f09cd2a7f7251e5fffade75378c332" title="Function to start a timer. ">Timer_start()</a> but, before the timer interrupt, will prevent the specified callback from ever being invoked.</p>
<p><a class="el" href="_timer_8h.html#ab0e86a066b5c68c55183cd680090a9b7ac93d728c52e809e9c179ff8da526ca00">Timer_ONESHOT_BLOCKING</a> is a blocking call. A semaphore is used to block the calling thead's execution until the timer generates an interrupt. If <a class="el" href="_timer_8h.html#a3b951947aeec93b4610f87ba7b8a8621" title="Function to stop a timer. If the timer is already stopped this function has no effect. ">Timer_stop()</a> is called, the calling thread will become unblocked immediately. The behavior of the timer in this mode is similar to a sleep function.</p>
<p><a class="el" href="_timer_8h.html#ab0e86a066b5c68c55183cd680090a9b7ae8bfe2f9b37749ebc20b9905a459843b">Timer_CONTINUOUS_CALLBACK</a> is non-blocking. After <a class="el" href="_timer_8h.html#ae2f09cd2a7f7251e5fffade75378c332" title="Function to start a timer. ">Timer_start()</a> is called, the calling thread will continue execution. When the timer interrupt is treiggered, the specified callback function will be called. The timer is automatically restarted and will continue to periodically generate interrupts until <a class="el" href="_timer_8h.html#a3b951947aeec93b4610f87ba7b8a8621" title="Function to stop a timer. If the timer is already stopped this function has no effect. ">Timer_stop()</a> is called.</p>
<p><a class="el" href="_timer_8h.html#ab0e86a066b5c68c55183cd680090a9b7a90581a353ae32c561dfbc6c60b9ec49e">Timer_FREE_RUNNING</a> is non-blocking. After <a class="el" href="_timer_8h.html#ae2f09cd2a7f7251e5fffade75378c332" title="Function to start a timer. ">Timer_start()</a> is called, the calling thread will continue execution. The timer will not generate an interrupt in this mode. The timer will count down from the specified period until it reaches 0. The timer will automatically reload the period and start over. The timer will continue running until <a class="el" href="_timer_8h.html#a3b951947aeec93b4610f87ba7b8a8621" title="Function to stop a timer. If the timer is already stopped this function has no effect. ">Timer_stop()</a> is called.</p>
<h1>Resource Allocation</h1>
<p>Each general purpose timer block contains two timers, Timer A and Timer B, that can be configured to operate independently; or concatenated to operate as one 32-bit timer. This behavior is managed through a set of resource allocation APIs. For example, the TimerMSP432E4_allocateTimerResource API will allocate a timer for exclusive use. Any attempt to allocate this resource in the future will result in a false value being returned from the allocation API. To free a timer resource, the TimerMSP432E4_freeTimerResource is used. The application is not responsible for calling these allocation APIs directly. </p><hr/>
</div><div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="_timer_8h_source.html">ti/drivers/Timer.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="_power_8h_source.html">ti/drivers/Power.h</a>&gt;</code><br />
<code>#include &lt;ti/drivers/dpl/HwiP.h&gt;</code><br />
<code>#include &lt;ti/drivers/dpl/SemaphoreP.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for TimerMSP432E4.h:</div>
<div class="dyncontent">
<div class="center"><img src="_timer_m_s_p432_e4_8h__incl.png" border="0" usemap="#_timer_m_s_p432_e4_8h" alt=""/></div>
<map name="_timer_m_s_p432_e4_8h" id="_timer_m_s_p432_e4_8h">
<area shape="rect" id="node4" href="_timer_8h.html" title="Timer driver. " alt="" coords="235,155,355,181"/>
<area shape="rect" id="node5" href="_power_8h.html" title="Power Manager. " alt="" coords="130,80,254,107"/>
<area shape="rect" id="node6" href="_list_8h.html" title="Linked List interface for use in drivers. " alt="" coords="75,155,211,181"/>
</map>
</div>
</div>
<p><a href="_timer_m_s_p432_e4_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_timer_m_s_p432_e4___h_w_attrs.html">TimerMSP432E4_HWAttrs</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">TimerMSP432E4 Hardware Attributes.  <a href="struct_timer_m_s_p432_e4___h_w_attrs.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_timer_m_s_p432_e4___object.html">TimerMSP432E4_Object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_timer_m_s_p432_e4___object.html" title="TimerMSP432E4_Object. ">TimerMSP432E4_Object</a>.  <a href="struct_timer_m_s_p432_e4___object.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:aa17df24982525b32e41661c2cd3307e3"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3">TimerMSP432E4_SubTimer</a> { <a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3a8001ea0f0542244d1e365db32ad30b80">TimerMSP432E4_timer16A</a> = 0x0001, 
<a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3a8c8b3a3bdaac50e5ec1e4566be97c464">TimerMSP432E4_timer16B</a> = 0x0002, 
<a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3a42f6ff240e7cce90697c08aed6b2e02e">TimerMSP432E4_timer32</a> = 0x0003
 }</td></tr>
<tr class="separator:aa17df24982525b32e41661c2cd3307e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9cd3cc579813d5b800299b4500a80345"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_m_s_p432_e4_8h.html#a9cd3cc579813d5b800299b4500a80345">TimerMSP432E4_allocateTimerResource</a> (uint32_t baseAddress, <a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3">TimerMSP432E4_SubTimer</a> subTimer)</td></tr>
<tr class="memdesc:a9cd3cc579813d5b800299b4500a80345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to allocate a timer peripheral.  <a href="#a9cd3cc579813d5b800299b4500a80345">More...</a><br /></td></tr>
<tr class="separator:a9cd3cc579813d5b800299b4500a80345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa68d8fa62ee0b3fc6a8a30c008033f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_m_s_p432_e4_8h.html#afa68d8fa62ee0b3fc6a8a30c008033f6">TimerMSP432E4_freeTimerResource</a> (uint32_t baseAddress, <a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3">TimerMSP432E4_SubTimer</a> subTimer)</td></tr>
<tr class="memdesc:afa68d8fa62ee0b3fc6a8a30c008033f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to de-allocate a timer peripheral.  <a href="#afa68d8fa62ee0b3fc6a8a30c008033f6">More...</a><br /></td></tr>
<tr class="separator:afa68d8fa62ee0b3fc6a8a30c008033f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8f0a4acbe21da20a702854bd106a1b5c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="struct_timer___fxn_table.html">Timer_FxnTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_timer_m_s_p432_e4_8h.html#a8f0a4acbe21da20a702854bd106a1b5c">TimerMSP432E4_fxnTable</a></td></tr>
<tr class="separator:a8f0a4acbe21da20a702854bd106a1b5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="aa17df24982525b32e41661c2cd3307e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17df24982525b32e41661c2cd3307e3">&sect;&nbsp;</a></span>TimerMSP432E4_SubTimer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3">TimerMSP432E4_SubTimer</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aa17df24982525b32e41661c2cd3307e3a8001ea0f0542244d1e365db32ad30b80"></a>TimerMSP432E4_timer16A&#160;</td><td class="fielddoc"><p>Half width timer A </p>
</td></tr>
<tr><td class="fieldname"><a id="aa17df24982525b32e41661c2cd3307e3a8c8b3a3bdaac50e5ec1e4566be97c464"></a>TimerMSP432E4_timer16B&#160;</td><td class="fielddoc"><p>Half width timer B </p>
</td></tr>
<tr><td class="fieldname"><a id="aa17df24982525b32e41661c2cd3307e3a42f6ff240e7cce90697c08aed6b2e02e"></a>TimerMSP432E4_timer32&#160;</td><td class="fielddoc"><p>Full width timer </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9cd3cc579813d5b800299b4500a80345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cd3cc579813d5b800299b4500a80345">&sect;&nbsp;</a></span>TimerMSP432E4_allocateTimerResource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TimerMSP432E4_allocateTimerResource </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3">TimerMSP432E4_SubTimer</a>&#160;</td>
          <td class="paramname"><em>subTimer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to allocate a timer peripheral. </p>
<p>This function is intended to be used by any driver which implements a timer hardware peripheral. Calling this function will enable power to the timer peripheral specified by the parameter, baseAddress.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>The base address of a timer hardware peripheral.</td></tr>
    <tr><td class="paramname">subTimer</td><td>The TimerMSP432E4_subTimer to be allocated.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A bool returning true if the timer resource was successfully allocated. If the base address is not valid or if the resource is not available, false is returned.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_timer_m_s_p432_e4_8h.html#afa68d8fa62ee0b3fc6a8a30c008033f6" title="Function to de-allocate a timer peripheral. ">TimerMSP432E4_freeTimerResource()</a> </dd></dl>

</div>
</div>
<a id="afa68d8fa62ee0b3fc6a8a30c008033f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa68d8fa62ee0b3fc6a8a30c008033f6">&sect;&nbsp;</a></span>TimerMSP432E4_freeTimerResource()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TimerMSP432E4_freeTimerResource </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>baseAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_timer_m_s_p432_e4_8h.html#aa17df24982525b32e41661c2cd3307e3">TimerMSP432E4_SubTimer</a>&#160;</td>
          <td class="paramname"><em>subTimer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to de-allocate a timer peripheral. </p>
<p>This function is intended to be used by any driver which implements a timer hardware peripheral. Calling this function will disable power to the timer peripheral specified by the parameter, baseAddress, if and only if the timer peripheral is no longer in use.</p>
<dl class="section pre"><dt>Precondition</dt><dd>A successful call to <a class="el" href="_timer_m_s_p432_e4_8h.html#a9cd3cc579813d5b800299b4500a80345" title="Function to allocate a timer peripheral. ">TimerMSP432E4_allocateTimerResource()</a> using the baseAddress and subTimer must have been made prior to calling this API.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">baseAddress</td><td>The base address of a timer hardware peripheral.</td></tr>
    <tr><td class="paramname">subTimer</td><td>The TimerMSP432E4_subTimer to be freed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="_timer_m_s_p432_e4_8h.html#a9cd3cc579813d5b800299b4500a80345" title="Function to allocate a timer peripheral. ">TimerMSP432E4_allocateTimerResource()</a> </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8f0a4acbe21da20a702854bd106a1b5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f0a4acbe21da20a702854bd106a1b5c">&sect;&nbsp;</a></span>TimerMSP432E4_fxnTable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="struct_timer___fxn_table.html">Timer_FxnTable</a> TimerMSP432E4_fxnTable</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2020</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
