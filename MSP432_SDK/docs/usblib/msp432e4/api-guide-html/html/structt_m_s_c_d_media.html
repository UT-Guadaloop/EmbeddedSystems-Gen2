<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>USBLibAPIGuide: tMSCDMedia Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="https://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">USBLibAPIGuide
   &#160;<span id="projectnumber">1.00.00.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">tMSCDMedia Struct Reference<div class="ingroups"><a class="el" href="group__msc__device__class__api.html">Msc_device_class_api</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Media Access functions.  
 <a href="structt_m_s_c_d_media.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="usbdmsc_8h_source.html">usbdmsc.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a7f81dfda77a37aebe31c765dfe337b44"><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#a7f81dfda77a37aebe31c765dfe337b44">pfnOpen</a> )(uint32_t ui32Drive)</td></tr>
<tr class="separator:a7f81dfda77a37aebe31c765dfe337b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb711e9bc4938287076e625fffadce55"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#adb711e9bc4938287076e625fffadce55">pfnClose</a> )(void *pvDrive)</td></tr>
<tr class="separator:adb711e9bc4938287076e625fffadce55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b814f14381dfa078ec739a30790d5b8"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#a7b814f14381dfa078ec739a30790d5b8">pfnBlockRead</a> )(void *pvDrive, uint8_t *pui8Data, uint32_t ui32Sector, uint32_t ui32NumBlocks)</td></tr>
<tr class="separator:a7b814f14381dfa078ec739a30790d5b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427fe170143cbac21b94f6fe461b7df9"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#a427fe170143cbac21b94f6fe461b7df9">pfnBlockWrite</a> )(void *pvDrive, uint8_t *pui8Data, uint32_t ui32Sector, uint32_t ui32NumBlocks)</td></tr>
<tr class="separator:a427fe170143cbac21b94f6fe461b7df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55dbeb90c5763ca9d742fdd808645967"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#a55dbeb90c5763ca9d742fdd808645967">pfnNumBlocks</a> )(void *pvDrive)</td></tr>
<tr class="separator:a55dbeb90c5763ca9d742fdd808645967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ccbeb6f9420f88ac1404e2c1a38b4cf"><td class="memItemLeft" align="right" valign="top">uint32_t(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_m_s_c_d_media.html#a9ccbeb6f9420f88ac1404e2c1a38b4cf">pfnBlockSize</a> )(void *pvDrive)</td></tr>
<tr class="separator:a9ccbeb6f9420f88ac1404e2c1a38b4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Media Access functions. </p>
</div><h2 class="groupheader">Field Documentation</h2>
<a id="a7f81dfda77a37aebe31c765dfe337b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f81dfda77a37aebe31c765dfe337b44">&sect;&nbsp;</a></span>pfnOpen</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* tMSCDMedia::pfnOpen) (uint32_t ui32Drive)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is used to initialize and open the physical drive number associated with the parameter <em>ui32Drive</em>. The function returns zero if the drive could not be opened for some reason. In the case of removable device like an SD card this function must return zero if the SD card is not present. The function returns a pointer to data that should be passed to other APIs or returns 0 if no drive was found. </p>

</div>
</div>
<a id="adb711e9bc4938287076e625fffadce55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb711e9bc4938287076e625fffadce55">&sect;&nbsp;</a></span>pfnClose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* tMSCDMedia::pfnClose) (void *pvDrive)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function closes the drive number in use by the mass storage class device. The <em>pvDrive</em> is the pointer that was returned from a call to <em>pfnOpen</em>. This function is used to close the physical drive number associated with the parameter <em>pvDrive</em>. This function returns 0 if the drive was closed successfully and any other value indicates a failure. </p>

<p>Referenced by <a class="el" href="group__msc__device__class__api.html#ga4735858e4f7638e5679bb5ba4e2b5c1e">USBDMSCTerm()</a>.</p>

</div>
</div>
<a id="a7b814f14381dfa078ec739a30790d5b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b814f14381dfa078ec739a30790d5b8">&sect;&nbsp;</a></span>pfnBlockRead</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(* tMSCDMedia::pfnBlockRead) (void *pvDrive, uint8_t *pui8Data, uint32_t ui32Sector, uint32_t ui32NumBlocks)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function reads a block of data from a device opened by the <em>pfnOpen</em> call. The <em>pvDrive</em> parameter is the pointer that was returned from the original call to <em>pfnOpen</em>. The <em>pui8Data</em> parameter is the buffer that data will be written into. The data area pointed to by <em>pui8Data</em> must be at least <em>ui32NumBlocks</em> * Block Size bytes to prevent overwriting data. The <em>ui32Sector</em> is the block address to read and <em>ui32NumBlocks</em> is the number of blocks to read. This function returns the number of bytes that were read from the and placed into the <em>pui8Data</em> buffer.. </p>

</div>
</div>
<a id="a427fe170143cbac21b94f6fe461b7df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427fe170143cbac21b94f6fe461b7df9">&sect;&nbsp;</a></span>pfnBlockWrite</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(* tMSCDMedia::pfnBlockWrite) (void *pvDrive, uint8_t *pui8Data, uint32_t ui32Sector, uint32_t ui32NumBlocks)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is use to write blocks to a physical device from the buffer pointed to by the <em>pui8Data</em> buffer. The <em>pvDrive</em> parameter is the pointer that was returned from the original call to <em>pfnOpen</em>. The <em>pui8Data</em> is the pointer to the data to write to the storage device and <em>ui32NumBlocks</em> is the number of blocks to write. The <em>ui32Sector</em> parameter is the sector number used to write the block. If the number of blocks is greater than one then the block address increments and writes to the next block until <em>ui32NumBlocks</em> * Block Size bytes are written. This function returns the number of bytes that were written to the device. </p>

</div>
</div>
<a id="a55dbeb90c5763ca9d742fdd808645967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55dbeb90c5763ca9d742fdd808645967">&sect;&nbsp;</a></span>pfnNumBlocks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(* tMSCDMedia::pfnNumBlocks) (void *pvDrive)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the total number of blocks on a physical device based on the <em>pvDrive</em> parameter. The <em>pvDrive</em> parameter is the pointer that was returned from the original call to <em>pfnOpen</em>. </p>

</div>
</div>
<a id="a9ccbeb6f9420f88ac1404e2c1a38b4cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ccbeb6f9420f88ac1404e2c1a38b4cf">&sect;&nbsp;</a></span>pfnBlockSize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t(* tMSCDMedia::pfnBlockSize) (void *pvDrive)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the block size for a physical device based on the <em>pvDrive</em> parameter. The <em>pvDrive</em> parameter is the pointer that was returned from the original call to <em>pfnOpen</em>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="usbdmsc_8h_source.html">usbdmsc.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="https://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2020</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="https://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="https://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="https://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="https://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
